<!DOCTYPE html>
<html>
<head>
    <%- commonHead %>
    <title><%= string.main_title %></title>
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.css" />
    <link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
    <link rel='stylesheet' href='/stylesheets/index.css'/>

    <script src="https://unpkg.com/swiper/swiper-bundle.js"></script>
    <script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
    <script>
		$(document).ready(() => {
			// // 기사 사이즈 동적 변경
			// $(".main_article").height(($(window).height() - $("header").height() - $("#my_style").height() - 8) * 0.9)
			// $(window).on('resize', function () {
			// 	const win = $(this)
			// 	$(".main_article").css({maxHeight: (win.height() - $("header").height() - $("#my_style").height() - 8) * 0.9 + "px"})
			// })
		})
		$(document).ready(function () {
			$(function () {
				let swiper = new Swiper('.swiper-container', {
					pagination: {
						el: '.swiper-pagination',
						clickable: true,
					},
					navigation: {
						nextEl: '.swiper-button-next',
						prevEl: '.swiper-button-prev',
					},
				});
			});
		});

		$(document).on('click', '.select', function(){
            $(this).parent(".select-wrap").children(".select-ul").toggle();
			if($(this).parents(".select-wrap").children(".select-ul").css("display") == "block") {
				$(this).parents(".select-wrap").css("box-shadow","0 2px 14px 0 rgba(83, 83, 83, 0.5)");
				$(this).parents(".select-wrap").css("box-shadow","0 2px 14px 0 rgba(83, 83, 83, 0.5)");
                console.log("그림자 실행됨");
            }
			else {
				$(this).parents(".select-wrap").css("box-shadow","none");
				$(this).parents(".select-wrap").css("box-shadow","none");
				console.log("그림자 숨김");
            }
		});

		//li태그를 눌렀을때, 그니까 옵션을 클릭했을때
		$(document).on('click', '.select-wrap .select-ul li', function(){
			//누르면 select라는 id를 가진 태그에 선택된 text를 넘겨줌
            $(this).parents(".select-wrap").children(".select").text($(this).text());
			//$('#select-wrap1 #select1').text($(this).text());
			$(this).parents(".select-wrap").children(".select-ul").hide()
			$(this).parents(".select-wrap").children(".select-ul").css("box-shadow","none");
			$(this).parents(".select-wrap").css("box-shadow","none");
			console.log("그림자 숨김");
		});

		$(document).on("click", function(e){
			if($("#select-wrap1 .select-ul").css("display") == "block") {
				if ($("#select-wrap1").has(e.target).length == 0) {
					$("#select-wrap1 .select-ul").hide();
					$("#select-wrap1 .select-ul").css("box-shadow", "none");
					$("#select-wrap1").css("box-shadow", "none");
					console.log("그림자 숨김");
				}
			}
			if($("#select-wrap2 .select-ul").css("display") == "block") {
				if ($("#select-wrap2").has(e.target).length == 0) {
					$("#select-wrap2 .select-ul").hide();
					$("#select-wrap2 .select-ul").css("box-shadow", "none");
					$("#select-wrap2").css("box-shadow", "none");
					console.log("그림자 숨김");
				}
			}
			if($("#select-wrap3 .select-ul").css("display") == "block") {
				if ($("#select-wrap3").has(e.target).length == 0) {
					$("#select-wrap3 .select-ul").hide();
					$("#select-wrap3 .select-ul").css("box-shadow", "none");
					$("#select-wrap3").css("box-shadow", "none");
					console.log("그림자 숨김");
				}
			}
			if($("#select-wrap4 .select-ul").css("display") == "block") {
				if ($("#select-wrap4").has(e.target).length == 0) {
					$("#select-wrap4 .select-ul").hide();
					$("#select-wrap4 .select-ul").css("box-shadow", "none");
					$("#select-wrap4").css("box-shadow", "none");
					console.log("그림자 숨김");
				}
			}
			if($("#select-wrap5 .select-ul").css("display") == "block") {
				if ($("#select-wrap5").has(e.target).length == 0) {
					$("#select-wrap5 .select-ul").hide();
					$("#select-wrap5 .select-ul").css("box-shadow", "none");
					$("#select-wrap5").css("box-shadow", "none");
					console.log("그림자 숨김");
				}
			}
        }); // select-wrap의 밖을 눌렀을 때 ul이 펼쳐져있으면 없어지게 함

		// $(document).on("click", function(e){
		// 	for(let i = 0; i < 5; i++){
		// 		let x = document.getElementsByClassName(".select-ul");
		// 		if (x[i].css("display")=="block") {
		// 			if(x[i].parents(".select-wrap").has(e.target).length == 0){
		// 				x[i].hide();
		// 				x[i].css("box-shadow", "none");
		// 				x[i].parents(".select-wrap").css("box-shadow", "none");
		// 				console.log("그림자 숨김");
		// 			}
		// 		}
		// 	}
		// }); // select-wrap의 밖을 눌렀을 때 ul이 펼쳐져있으면 없어지게 함 , 이거 쓰면 오류남ㅠㅠ
    </script>
</head>

<body>

<%- include('header'); -%>

<div class="magazine">
    <div class="swiper-container">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img class="main_article" id="main" src="/images/home/main_image.png">
            </div>
            <div class="swiper-slide">
                <img class="main_article" id="main" src="/images/home/main_image.png">
            </div>
            <div class="swiper-slide">
                <img class="main_article" id="main" src="/images/home/main_image.png">
            </div>
            <div class="swiper-slide">
                <img class="main_article" id="main" src="/images/home/main_image.png">
            </div>
        </div>
        <div class="swiper-pagination"></div>
        <div class="swiper-button-prev"></div>
        <div class="swiper-button-next"></div>
    </div>
</div>

<div id="my_style">
    <h1><%= string.select_info %></h1>
    <div id = "style_select">
        <div id = "select_area">
            <div class = "select_box">
                <h2><%= string.gender %></h2>
                <div id="select-wrap1" class = "select-wrap">
                    <div id="select1" class="select"><%= string.woman%></div>
                    <ul id="ul" class="select-ul">
                        <div>
                            <li><%= string.woman%></li>
                            <li><%= string.man %></li>
                        </div>
                    </ul>
                </div>
            </div>
            <div class = line></div>
        </div>
        <div id = "select_area">
            <div class = "select_box">
                <h2><%= string.age %></h2>
                <div id="select-wrap2" class = "select-wrap">
                    <div id="select2" class="select"><%= string.age_10%></div>
                    <ul id="ul" class="select-ul">
                        <div>
                            <li><%= string.age_10%></li>
                            <li><%= string.age_20%></li>
                            <li><%= string.age_30%></li>
                            <li><%= string.age_40%></li>
                            <li><%= string.age_50%></li>
                        </div>
                    </ul>
                </div>
            </div>
            <div class = line></div>
        </div>
        <div id = "select_area">
            <div class = "select_box">
                <h2><%= string.body_type %></h2>
                <div id="select-wrap3" class = "select-wrap">
                    <div id="select3" class="select"><%= string.lower_body_fat%></div>
                    <ul id="ul" class="select-ul">
                        <div>
                            <li><%= string.lower_body_fat%></li>
                            <li><%= string.upper_body_fat%></li>
                            <li><%= string.slim%></li>
                            <li><%= string.tall%></li>
                            <li><%= string.short%></li>
                        </div>
                    </ul>
                </div>
            </div>
            <div class = line></div>
        </div>
        <div id = "select_area">
            <div class = "select_box">
                <h2><%= string.fit %></h2>
                <div id="select-wrap4" class = "select-wrap">
                    <div id="select4" class="select"><%= string.fit_regular%></div>
                    <ul id="ul" class="select-ul">
                        <div>
                            <li><%= string.fit_regular%></li>
                            <li><%= string.fit_over%></li>
                            <li><%= string.fit_wide%></li>
                            <li><%= string.fit_semi_wide%></li>
                            <li><%= string.fit_slim%></li>
                            <li><%= string.fit_tapered%></li>
                            <li><%= string.fit_bootcut%></li>
                        </div>
                    </ul>
                </div>
            </div>
            <div class = line></div>
        </div>
        <div id = "select_area">
            <div class = "select_box">
                <h2><%= string.price %></h2>
                <div id="select-wrap5" class = "select-wrap">
                    <div id="select5" class="select"><%= string.price_100000%></div>
                    <ul id="ul" class="select-ul">
                        <div>
                            <li><%= string.price_100000%></li>
                            <li><%= string.price_200000%></li>
                            <li><%= string.price_300000%></li>
                            <li><%= string.price_400000%></li>
                            <li><%= string.price_500000%></li>
                            <li><%= string.price_expensive%></li>
                        </div>
                    </ul>
                </div>
            </div>
            <div class = line></div>
        </div>
    </div>
</div>

<div id="recommend">
    <h1><%= string.select_style %></h1>
    <div class = "style">
        <div><img src="images/home/Oval_casual.webp">Casual</div>
        <div><img src="images/home/Oval_campus.webp">Campus</div>
        <div><img src="images/home/Oval_street.webp">Street</div>
        <div><img src="images/home/Oval_rockchic.webp">Rock chic</div>
        <div><img src="images/home/Oval_amekaji.webp">Amekaji</div>
        <div><img src="images/home/Oval_cityboy.webp">City boy</div>
        <div><img src="images/home/Oval_office.webp">Office</div>
        <div><img src="images/home/Oval_sexyglam.webp">Sexy glam</div>
        <div><img src="images/home/Oval_feminine.png">Feminine</div>
        <div><img src="images/home/Oval_lovely.webp">Lovely</div>
        <div><img src="images/home/Oval_minimal.webp">Minimal</div>
    </div>
</div>
<%- include('footer'); -%>
</body>
</html>
